<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
	<title>UMNLife</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet"  href="style.css" />
	<script src="https://kit.fontawesome.com/9d53a2f771.js" crossorigin="anonymous"></script>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@500&display=swap" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Major+Mono+Display&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body onload="startTime();">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col text-center mt-4">
                <img src="assets/trophy.png" class="img-fluid" id="trophies">
                <p>Mid Exam</p>
                <hr id="midExamline">
                    <div id="umnLife">
                        <div>
                            <p class="text-center">THe GaMe oF LiFe</p>
                        </div>
                    </div>
                <div id="trophyBorder" class="row justify-content-center">
                    <hr id="trophyBorder">
                </div>
            </div>
        </div>
        <div class="container-fluid text-center">
            <div class="w-50 mx-auto my-4">
                <div class="p-3 mb-2 rounded-3 bgBox">
                    <div class="row">
                        <div class="col-md-6">
                            <label for="eat"><i class="fa-solid fa-cookie-bite fa-xl"></i></label>
                            <progress id="eat" value="5" max="10"></progress>
                        </div>
                        <div class="col-md-6">
                            <label for="sleep"><i class="fa-solid fa-bed fa-lg"></i></label>
                            <progress id="sleep" value="5" max="10"></progress>
                        </div>
                        <div class="col-md-6">
                            <label for="play"><i class="fa-solid fa-gamepad fa-lg"></i></label>
                            <progress id="play" value="5" max="10"></progress>
                        </div>
                        <div class="col-md-6">
                            <label for="study"><i class="fa-solid fa-book fa-xl"></i></label>
                            <progress id="study" value="0" max="10"></progress>
                        </div>
                        <div class="col-md-6">
                            <label for="drink"><i class="fa-solid fa-mug-hot fa-xl"></i></label>
                            <progress id="drink" value="5" max="10"></progress>
                        </div>
                        <div class="col-md-6">
                            <label for="sport"><i class="fa-solid fa-dumbbell fa-lg"></i></label>
                            <progress id="sport" value="5" max="10"></progress>
                        </div>
                        <div class="col-md-12">
                            <h4 class="mt-3">Semester <span id="semester">1</span></h4>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="container-fluid section-chara mt-4 mb-2 text-center">
            <h2><span id="greeting"></span><span id="username"></span></h2>
            <input type="text" id="play-gender" style="display: none;">
            <div id="time"></div>
            <img id="play-char" class="avatar">
        </div>
        <div class="gap-2 d-flex flex-column justify-content-center align-items-center mt-4">
            <div class="row">
                <div class="col-md-6 d-grid mx-auto mb-2">
                    <button id="btn-1" class="btn btn-sm rounded-pill bgBox" onclick="eating(); setTimeout(makan, 5000); btnMiss();"><span><i class="ms-2 fa-solid fa-cookie-bite mx-1"></i></span>Makan</button>
                </div>
                <div class="col-md-6 d-grid mx-auto mb-2">
                    <button id="btn-2" class="btn btn-sm rounded-pill bgBox" onclick="sleeping(); setTimeout(tidur, 15000); btnMiss();"><span><i class="ms-2 fa-solid fa-bed mx-1"></i></span>Tidur</button>
                </div>
                <div class="col-md-6 d-grid mx-auto mb-2">
                    <button id="btn-3" class="btn btn-sm rounded-pill bgBox" onclick="playing(); setTimeout(main, 4000); btnMiss();"><span><i class="ms-2 fa-solid fa-gamepad mx-1"></i></span>Bermain</button>
                </div>
                <div class="col-md-6 d-grid mx-auto mb-2">
                    <button id="btn-4" class="btn btn-sm rounded-pill bgBox" onclick="studying(); setTimeout(belajar, 6500); btnMiss();"><span><i class="ms-2 fa-solid fa-book mx-1"></i></span>Belajar</button>
                </div>
                <div class="col-md-6 d-grid mx-auto mb-2">
                    <button id="btn-5" class="btn btn-sm rounded-pill bgBox" onclick="drinking(); setTimeout(minum, 2000); btnMiss();"><i class="ms-2 fa-solid fa-mug-hot fa-xl mx-1"></i></span>Minum</button>
                </div>
                <div class="col-md-6 d-grid mx-auto mb-2">
                    <button id="btn-6" class="btn btn-sm rounded-pill bgBox" onclick="sporting(); setTimeout(olahraga, 4000); btnMiss();"><span><i class="fa-solid fa-dumbbell fa-lg mx-1"></i></span>Olahraga</button>
                </div>
            </div>
        </div>
        <footer>	
			<h3>Made by Kelompok 2</h3>
		</footer>
    </div>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
<script>
    document.getElementById("username").innerHTML = name;
    document.getElementById("play-gender").value = localStorage.getItem("gender");

    var karakterGender = document.getElementById("play-gender").value;
    if (karakterGender == "boy") {
        document.getElementById("play-char").src="assets/boy.png";
    } else if (karakterGender == "girl") {
        document.getElementById("play-char").src="assets/girl.png";
    }

    const timer = document.getElementById("time");

	var getTime = new Date();
	var hour = getTime.getHours();
	var minute = getTime.getMinutes();
	var stopTime = true;

    function startTime() {
        minute = parseInt(minute);
        hour = parseInt(hour);

        minute = minute + 1;

        if (minute == 60) {
            hour = hour + 1;
            minute = 0;
        }

        if (minute < 10 || minute == 0) {
            minute = '0' + minute;
        }
        if (hour < 10 || hour == 0) {
            hour = '0' + hour;
        }
        if (hour > 23) {
            hour = '00';
        }

        timer.innerHTML = hour + ':' + minute;

        setTimeout("startTime()", 1000);
    }

    $(document).ready(function() {
        function greeting() {
            if (hour < 6) {
                $("#greeting").html("Selamat Malam, ");
                document.body.style.backgroundImage = "url(assets/malam.jpeg)";
            } else if (hour < 11) {
                $("#greeting").html("Selamat Pagi, ");
                document.body.style.backgroundImage = "url(assets/pagi.jpeg)";
            } else if (hour < 15) {
                $("#greeting").html("Selamat Siang, ");
                document.body.style.backgroundImage = "url(assets/siang.jpeg)";
            } else if (hour < 18) {
                $("#greeting").html("Selamat Sore, ");
                document.body.style.backgroundImage = "url(assets/sore.jpeg)";
            } else {
                $("#greeting").html("Selamat Malam, ");
                document.body.style.backgroundImage = "url(assets/malam.jpeg)";
            }
        }
        setInterval(greeting, 0);
    });

    function eating() {
		if (karakterGender == "boy") {
			document.getElementById("play-char").src = "assets/eat2.png"
		} else {
			document.getElementById("play-char").src = "assets/eat3.png"
		}
	}
    function makan() {
        document.getElementById("eat").value += 5;
        document.getElementById("sleep").value -= 0.2;
        document.getElementById("play").value -= 0.2;
        document.getElementById("study").value -= 0;
        document.getElementById("drink").value -= 0.2;
        document.getElementById("sport").value -= 0.2;

        document.getElementById("btn-1").disabled = false;
        document.getElementById("btn-2").disabled = false;
        document.getElementById("btn-3").disabled = false;
        document.getElementById("btn-4").disabled = false;
        document.getElementById("btn-5").disabled = false;
        document.getElementById("btn-6").disabled = false;
        defaultCharacter();
    }
    setInterval(lapar, 8000);
    function lapar() {
        document.getElementById("eat").value -= 0.5;

        if(document.getElementById("eat").value <=1) {
            window.alert("Kamu sedang kelaparan, segera makan!");
        }
    }

    function sleeping() {
		if (karakterGender == "boy") {
			document.getElementById("play-char").src = "assets/sleep2.png"
		} else {
			document.getElementById("play-char").src = "assets/sleep3.png"
		}
	}
    function tidur() {
        document.getElementById("eat").value -= 0.2;
        document.getElementById("sleep").value += 10;
        document.getElementById("play").value -= 0.2;
        document.getElementById("study").value -= 0;
        document.getElementById("drink").value -= 0.2;
        document.getElementById("sport").value -= 0.2;

        document.getElementById("btn-1").disabled = false;
        document.getElementById("btn-2").disabled = false;
        document.getElementById("btn-3").disabled = false;
        document.getElementById("btn-4").disabled = false;
        document.getElementById("btn-5").disabled = false;
        document.getElementById("btn-6").disabled = false;
        defaultCharacter();
    }
    setInterval(ngantuk, 15000);
    function ngantuk() {
        document.getElementById("sleep").value -= 0.5;
        
        if(document.getElementById("sleep").value <= 1) {
            window.alert("Kamu sangat kelelahan, segera tidur!");
        }
    }

    
    function playing() {
		if (karakterGender == "boy") {
			document.getElementById("play-char").src = "assets/played2.png"
		} else {
			document.getElementById("play-char").src = "assets/played3.png"
		}
	}
    function main() {
        document.getElementById("eat").value -= 0.2;
        document.getElementById("sleep").value -= 0.2;
        document.getElementById("play").value += 5;
        document.getElementById("study").value -= 0.2;
        document.getElementById("drink").value -= 0.2;
        document.getElementById("sport").value -= 0.2;
        
        document.getElementById("btn-1").disabled = false;
        document.getElementById("btn-2").disabled = false;
        document.getElementById("btn-3").disabled = false;
        document.getElementById("btn-4").disabled = false;
        document.getElementById("btn-5").disabled = false;
        document.getElementById("btn-6").disabled = false;
        defaultCharacter();
    }
    setInterval(bosan, 9000);
    function bosan() {
        document.getElementById("play").value -= 0.5;
        
        if(document.getElementById("play").value <=1) {
            window.alert("Kamu merasa sangat bosan, segera main!");
        }
    }

    function studying() {
		if (karakterGender == "boy") {
			document.getElementById("play-char").src = "assets/study2.png"
		} else {
			document.getElementById("play-char").src = "assets/study3.png"
		}
	}
    function belajar() {
        document.getElementById("eat").value -= 0.2;
        document.getElementById("sleep").value -= 0.2;
        document.getElementById("play").value -= 0.2;
        document.getElementById("study").value += 2.5;
        document.getElementById("drink").value -= 0.2;
        document.getElementById("sport").value -= 0.5;
        
        document.getElementById("btn-1").disabled = false;
        document.getElementById("btn-2").disabled = false;
        document.getElementById("btn-3").disabled = false;
        document.getElementById("btn-4").disabled = false;
        document.getElementById("btn-5").disabled = false;
        document.getElementById("btn-6").disabled = false;
        defaultCharacter();
        
        var semester = document.getElementById("semester").innerHTML;
        if(document.getElementById("study").value >= 10) {
            var newSemester = parseInt(semester,10) + 1;
            document.getElementById("semester").innerHTML = newSemester;
            window.alert("Selamat, kamu telah naik ke semester " + newSemester);
            document.getElementById("study").value = 0;
            document.getElementById("eat").value = 5;
            document.getElementById("sleep").value = 5;
            document.getElementById("play").value = 5;
            document.getElementById("drink").value = 5;
            document.getElementById("sport").value = 5;
        }
        if(newSemester == 8){
            alert("Selamat " + name + " sudah lulus!");
            if(confirm("Do you want to play again?")){
                location.reload();
            }
            else{
                window.location.assign("mulaiMain.html");
            }
        }
    }
    setInterval(tidakPintar, 70000);
    function tidakPintar() {
        document.getElementById("study").value -= 0.5;

        if(document.getElementById("study").value <=1) {
            window.alert("Pengetahuan kamu berkurang, segera belajar!");
        }
    }

    function drinking() {
		if (karakterGender == "boy") {
			document.getElementById("play-char").src = "assets/drink2.png"
		} else {
			document.getElementById("play-char").src = "assets/drink3.png"
		}
	}
    function minum() {
        document.getElementById("eat").value -= 0.2;
        document.getElementById("sleep").value -= 0.2;
        document.getElementById("play").value -= 0.2;
        document.getElementById("study").value -= 0;
        document.getElementById("drink").value += 5;
        document.getElementById("sport").value -= 0.2;
        
        document.getElementById("btn-1").disabled = false;
        document.getElementById("btn-2").disabled = false;
        document.getElementById("btn-3").disabled = false;
        document.getElementById("btn-4").disabled = false;
        document.getElementById("btn-5").disabled = false;
        document.getElementById("btn-6").disabled = false;
        defaultCharacter();
    }
    setInterval(haus, 6000);
    function haus() {
        document.getElementById("drink").value -= 0.5;
        
        if(document.getElementById("drink").value <=1) {
            window.alert("Kamu merasa sangat haus, segera minum!");
        }
    }

    function sporting() {
		if (karakterGender == "boy") {
			document.getElementById("play-char").src = "assets/sport2.png"
		} else {
			document.getElementById("play-char").src = "assets/sport3.png"
		}
	}
    function olahraga() {
        document.getElementById("eat").value -= 0.2;
        document.getElementById("sleep").value -= 0.2;
        document.getElementById("play").value -= 0.2;
        document.getElementById("study").value -= 0;
        document.getElementById("drink").value -= 0.2;
        document.getElementById("sport").value += 5;
        
        document.getElementById("btn-1").disabled = false;
        document.getElementById("btn-2").disabled = false;
        document.getElementById("btn-3").disabled = false;
        document.getElementById("btn-4").disabled = false;
        document.getElementById("btn-5").disabled = false;
        document.getElementById("btn-6").disabled = false;
        defaultCharacter();
    }
    setInterval(istirahat, 10000);
    function istirahat() {
        document.getElementById("sport").value -= 0.5;
        
        if(document.getElementById("sport").value <=1) {
            window.alert("Kamu kurang olahraga, segera olahraga!");
        }
    }

    setInterval(gameOver, 1000);
    function gameOver() {
        if(document.getElementById("eat").value ==0 && 
            document.getElementById("sleep").value ==0 && 
            document.getElementById("play").value ==0 && 
            document.getElementById("drink").value ==0 &&
            document.getElementById("sport").value ==0)
        {
            window.alert("Game Over!, silakan memulai progress ulang!");
            if(confirm("Apa kamu ingin bermain lagi?")){
                location.reload();
            }
            else{
                window.location.assign("mulaiMain.html");
            }
        }
    }

    function defaultCharacter() {
		document.getElementById("play-char").src = "assets/" + karakterGender + ".png";
	}

    function btnMiss() {
        document.getElementById("btn-1").disabled = true;
        document.getElementById("btn-2").disabled = true;
        document.getElementById("btn-3").disabled = true;
        document.getElementById("btn-4").disabled = true;
        document.getElementById("btn-5").disabled = true;
        document.getElementById("btn-6").disabled = true;
    }
</script>    
</html>